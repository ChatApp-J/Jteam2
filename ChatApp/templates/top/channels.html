{% extends 'top/base.html' %}

{% block title %}home{% endblock %} 

{% block bgcolor %}<body bgcolor="009BC6">{% endblock %}

{% block header %}<header class="channels-header">{% endblock %}

{% block nav %}
<a class="channels-header-link" href="{{url_for('logout')}}">ログアウト</a>
{% endblock %}

{% block main %}
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
<div class="main-container">
  <div class="channel-title">
    <p class="channel-user">ようこそ、{{ nickname }} さん</p>
    <h2>CHANNEL一覧</h2>
  </div>
  
  <div id="channels-list">
    <ul class="channel-box"></ul>
  </div>
  
  <div id="footer">
    <p id="footer-text">アプリの名前？</p>
  </div>
  {% include 'top/modal/create_channel.html' %}
  {% include 'top/modal/update_channel.html' %}
  {% include 'top/modal/delete_channel.html' %}
</div>
{% endblock %}
{% block script %}
<script type="text/javascript">
  // prettier-ignore
  const channels = JSON.parse('{{ channels|tojson }}');
  // prettier-ignore
  const uid = JSON.parse('{{ uid|tojson }}');
</script>
<script
  src="{{url_for('static',filename='js/channels_list.js')}}"
  type="module"
></script>
{% endblock %}